<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Web3News - Decentralized News Aggregation</title>
    <script>
      // GitHub Pages SPA routing fix
      // Redirect all 404s to index.html for client-side routing
      (function() {
        var l = window.location;
        var pathname = l.pathname;
        
        // Extract base path (repository name)
        // e.g., /scaling-octo-garbanzo/subscription -> basePath = /scaling-octo-garbanzo
        var pathParts = pathname.split('/').filter(p => p && p !== 'index.html');
        var basePath = '';
        
        // Detect base path (repository name with hyphens)
        if (pathParts.length > 0) {
          var firstSegment = pathParts[0];
          // Repository names typically have hyphens (e.g., scaling-octo-garbanzo)
          if (firstSegment.includes('-') || firstSegment === 'scaling-octo-garbanzo') {
            basePath = '/' + firstSegment;
          }
        }
        
        // Prevent infinite loops - if already on index.html, don't redirect
        if (pathname.includes('index.html')) {
          return;
        }
        
        // Simple redirect: go to index.html and let React Router handle the routing
        // The browser will maintain the pathname, which React Router will process
        var redirectUrl = basePath + '/index.html';
        
        l.replace(redirectUrl);
      })();
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/index.js"></script>
  </body>
</html>

