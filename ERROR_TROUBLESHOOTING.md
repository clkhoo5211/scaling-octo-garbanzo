# üîç GitHub Actions Error Troubleshooting Guide
## Web3News - Blockchain Content Aggregator

**Repository**: https://github.com/clkhoo5211/scaling-octo-garbanzo  
**Actions**: https://github.com/clkhoo5211/scaling-octo-garbanzo/actions

---

## üö® Common Errors & Solutions

### Error 1: Workflow Not Triggering

**Symptoms:**
- No workflow runs appear in Actions tab
- Workflow doesn't start after push

**Solutions:**

1. **Check Branch Name:**
   - Workflow triggers on: `main` OR `master`
   - Verify you're pushing to the correct branch
   - Fixed: Workflow now supports both branches ‚úÖ

2. **Manually Trigger:**
   - Go to Actions tab
   - Click "Deploy to GitHub Pages"
   - Click "Run workflow"
   - Select branch: `master`
   - Click "Run workflow"

---

### Error 2: Build Fails - Missing Secrets

**Symptoms:**
- Build step fails with "undefined" errors
- Environment variables not found

**Solutions:**

1. **Verify All 4 Secrets Are Added:**
   - Go to: https://github.com/clkhoo5211/scaling-octo-garbanzo/settings/secrets/actions
   - Check these exist:
     - ‚úÖ `NEXT_PUBLIC_SUPABASE_URL`
     - ‚úÖ `NEXT_PUBLIC_SUPABASE_ANON_KEY`
     - ‚úÖ `NEXT_PUBLIC_REOWN_PROJECT_ID`
     - ‚úÖ `NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY`

2. **Check Secret Names:**
   - Names must match EXACTLY (case-sensitive)
   - No extra spaces before/after

3. **Verify Secret Values:**
   - Supabase URL: Should start with `https://` and end with `.supabase.co`
   - Supabase Key: Should be the publishable key (starts with `sb_publishable_` or `eyJ...`)
   - Reown ID: Should be your project ID
   - Clerk Key: Should start with `pk_test_` or `pk_live_`

---

### Error 3: Build Fails - npm ci Error

**Symptoms:**
- "npm ci" step fails
- Package installation errors

**Solutions:**

1. **Check package.json exists:**
   - File should be in repository root
   - Should contain all dependencies

2. **Check package-lock.json:**
   - If missing, GitHub Actions will generate it
   - Or commit it locally: `npm install` then commit `package-lock.json`

3. **Verify Node.js Version:**
   - Workflow uses Node.js 20
   - Should be compatible with all dependencies

---

### Error 4: Build Fails - TypeScript Errors

**Symptoms:**
- TypeScript compilation errors
- Type errors in code

**Solutions:**

1. **Check Build Logs:**
   - Click on failed workflow
   - Check "Build Next.js app" step
   - Look for specific TypeScript errors

2. **Common Issues:**
   - Missing type definitions
   - Import errors
   - Type mismatches

3. **Fix Locally First:**
   ```bash
   npm install
   npm run typecheck
   ```

---

### Error 5: Build Fails - Next.js Build Error

**Symptoms:**
- `npm run build` fails
- Next.js compilation errors

**Solutions:**

1. **Check Build Logs:**
   - Look for specific file/line errors
   - Check for missing imports
   - Verify all pages/components exist

2. **Common Issues:**
   - Missing environment variables (should be set as secrets)
   - Import path errors
   - Missing dependencies

---

### Error 6: Deployment Fails - Pages Not Enabled

**Symptoms:**
- Deploy step fails
- "Pages not enabled" error

**Solutions:**

1. **Enable GitHub Pages:**
   - Go to: https://github.com/clkhoo5211/scaling-octo-garbanzo/settings/pages
   - Source: Select "GitHub Actions"
   - Click Save

2. **Check Permissions:**
   - Workflow has `pages: write` permission ‚úÖ
   - Should be automatically configured

---

### Error 7: Deployment Fails - Artifact Not Found

**Symptoms:**
- "out directory not found"
- Artifact upload fails

**Solutions:**

1. **Verify Build Output:**
   - Check if build step completed successfully
   - `out/` directory should be generated by Next.js build

2. **Check next.config.js:**
   - Should have `output: 'export'`
   - This generates static files in `out/` directory ‚úÖ

---

### Error 8: Site Shows 404 or Blank Page

**Symptoms:**
- Site loads but shows 404
- Blank white page
- Assets not loading

**Solutions:**

1. **Check basePath:**
   - Should be `/scaling-octo-garbanzo` for GitHub Pages
   - Set via `GITHUB_REPOSITORY_NAME` env var ‚úÖ

2. **Verify Repository Name:**
   - Repository: `scaling-octo-garbanzo`
   - URL: `https://clkhoo5211.github.io/scaling-octo-garbanzo/`
   - basePath should match repository name

3. **Check Browser Console:**
   - Open DevTools ‚Üí Console
   - Look for 404 errors on assets
   - Check if paths include basePath

---

### Error 9: CI Workflow Fails

**Symptoms:**
- Lint/format/typecheck fails
- Tests fail

**Solutions:**

1. **Check Specific Step:**
   - ESLint errors ‚Üí Fix linting issues
   - Format errors ‚Üí Run `npm run format`
   - Typecheck errors ‚Üí Fix TypeScript errors
   - Test errors ‚Üí Fix failing tests

2. **Note:**
   - Tests have `continue-on-error: true`
   - Won't block deployment
   - But should be fixed for code quality

---

## üîç How to Check for Errors

### Step 1: Check GitHub Actions

1. **Go to Actions Tab:**
   - https://github.com/clkhoo5211/scaling-octo-garbanzo/actions

2. **Look for Workflows:**
   - "Deploy to GitHub Pages" - Should show ‚úÖ or ‚ùå
   - "CI - Format, Typecheck and Lint" - Should show ‚úÖ or ‚ùå

3. **Click on Failed Workflow:**
   - See which step failed
   - Read error messages
   - Check logs for details

### Step 2: Check Build Logs

1. **Click on Workflow Run:**
   - Expand "Build Next.js app" step
   - Look for error messages
   - Check environment variables are set

2. **Common Error Patterns:**
   - `Error: Cannot find module` ‚Üí Missing dependency
   - `Type error` ‚Üí TypeScript issue
   - `undefined` ‚Üí Missing environment variable
   - `404` ‚Üí Missing file or wrong path

### Step 3: Check Deployment Status

1. **Go to Pages Settings:**
   - https://github.com/clkhoo5211/scaling-octo-garbanzo/settings/pages
   - Check deployment status
   - See deployment URL

2. **Check Site:**
   - Visit: https://clkhoo5211.github.io/scaling-octo-garbanzo/
   - Open browser DevTools ‚Üí Console
   - Look for JavaScript errors

---

## ‚úÖ Quick Fixes Checklist

- [ ] Workflow triggers on correct branch (`master` or `main`)
- [ ] All 4 GitHub Secrets are added
- [ ] GitHub Pages is enabled (Source: GitHub Actions)
- [ ] Build completes successfully
- [ ] Deployment completes successfully
- [ ] Site loads without errors
- [ ] No console errors in browser

---

## üÜò Still Having Issues?

1. **Check Workflow Logs:**
   - Actions ‚Üí Click failed workflow ‚Üí Check logs

2. **Verify Configuration:**
   - `.github/workflows/deploy.yml` - Should trigger on `master`
   - `next.config.js` - Should have `output: 'export'`
   - `package.json` - Should have build script

3. **Common Solutions:**
   - Re-run workflow manually
   - Check all secrets are set correctly
   - Verify GitHub Pages is enabled
   - Check repository name matches basePath

---

## üìä Expected Workflow Flow

```
1. Push to master/main
   ‚Üì
2. Workflow triggers automatically
   ‚Üì
3. Build job:
   - Checkout code ‚úÖ
   - Setup Node.js ‚úÖ
   - Install dependencies ‚úÖ
   - Build Next.js ‚úÖ
   - Upload artifact ‚úÖ
   ‚Üì
4. Deploy job:
   - Deploy to GitHub Pages ‚úÖ
   ‚Üì
5. Site live at:
   https://clkhoo5211.github.io/scaling-octo-garbanzo/
```

---

## üîó Useful Links

- **Actions**: https://github.com/clkhoo5211/scaling-octo-garbanzo/actions
- **Secrets**: https://github.com/clkhoo5211/scaling-octo-garbanzo/settings/secrets/actions
- **Pages**: https://github.com/clkhoo5211/scaling-octo-garbanzo/settings/pages
- **Repository**: https://github.com/clkhoo5211/scaling-octo-garbanzo

---

**Fixed Issues:**
- ‚úÖ Workflow now triggers on both `main` and `master` branches
- ‚úÖ All configuration verified

**Next Steps:**
1. Check Actions tab for workflow runs
2. If errors, check specific step logs
3. Verify all secrets are set
4. Ensure GitHub Pages is enabled

